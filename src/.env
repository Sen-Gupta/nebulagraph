# NebulaGraph Development Environment Configuration
# Configuration for Docker-based development with Dapr components

# ============================================================================
# INFRASTRUCTURE DEPENDENCIES
# ============================================================================

# NebulaGraph Database Configuration
NEBULA_HOST=nebula-graphd
NEBULA_PORT=9669
NEBULA_SPACE=dapr_state
NEBULA_CONNECTION_TIMEOUT=10s
NEBULA_EXECUTION_TIMEOUT=30s
NEBULA_MAX_CONN_POOL_SIZE=50
NEBULA_MIN_CONN_POOL_SIZE=5
NEBULA_IDLE_TIME=8h

# NebulaGraph Service Ports (Docker environment)
NEBULA_META_PORT=9559
NEBULA_META_HTTP_PORT=19559
NEBULA_STORAGE_PORT=9779
NEBULA_STORAGE_HTTP_PORT=19779
NEBULA_STUDIO_PORT=7001

# Redis Service Configuration (for Pub/Sub)
REDIS_HOST=redis:6379
REDIS_DB=0
REDIS_HOST_PORT=6380
REDIS_SERVER_PASSWORD=dapr_redis

# Redis Connection Settings (optimized for container environment)
REDIS_MAX_RETRIES=3
REDIS_MAX_RETRY_BACKOFF=2s
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s

# Redis Pool Settings (larger pool for containers)
REDIS_POOL_SIZE=20
REDIS_POOL_TIMEOUT=5s
REDIS_MAX_CONN_AGE=30m
REDIS_IDLE_TIMEOUT=5m
REDIS_IDLE_CHECK_FREQUENCY=1m

# Redis Pub/Sub Settings
REDIS_REDELIVER_INTERVAL=60s
REDIS_PROCESSING_TIMEOUT=15s
REDIS_TYPE=node
REDIS_ENABLE_TLS=false

# ScyllaDB Configuration
SCYLLA_VERSION=5.4.6
SCYLLA_NODE1_CONTAINER=scylladb-node1
SCYLLA_CQL_PORT=9042
SCYLLA_JMX_PORT=7199
SCYLLA_REST_PORT=10000
SCYLLA_PROMETHEUS_PORT=9180
SCYLLA_INTER_NODE_PORT=7002
SCYLLA_SSL_INTER_NODE_PORT=7003
SCYLLA_SMP=1
SCYLLA_MEMORY=1G

# ScyllaDB Authentication and Database Settings
SCYLLA_HOSTS=scylladb-node1
SCYLLA_KEYSPACE=dapr_state
SCYLLA_TABLE=state
SCYLLA_CONSISTENCY=LOCAL_QUORUM
SCYLLA_CONNECTION_TIMEOUT=10s
SCYLLA_SOCKET_KEEPALIVE=30s
SCYLLA_MAX_RECONNECT_INTERVAL=60s
SCYLLA_NUM_CONNS=2
SCYLLA_REPLICATION_STRATEGY=SimpleStrategy
SCYLLA_REPLICATION_FACTOR=3
SCYLLA_ENABLE_TLS=false

# ScyllaDB Manager Configuration
SCYLLA_MANAGER_VERSION=3.2.6
SCYLLA_MANAGER_CONTAINER=scylla-manager
SCYLLA_MANAGER_WEB_PORT=7004
SCYLLA_MANAGER_API_PORT=5091

# ScyllaDB Component Configuration
SCYLLA_COMPONENT_CONTAINER=scylladb-component
SCYLLA_TEST_API_CONTAINER=scylladb-test-api
SCYLLA_TEST_API_HOST_PORT=5001

# Dapr Runtime Configuration
DAPR_VERSION=1.15.9
DAPR_LOG_LEVEL=info

# Dapr Placement Service Configuration
DAPR_PLACEMENT_CONTAINER=dapr-placement
DAPR_PLACEMENT_PORT=50090
DAPR_PLACEMENT_INTERNAL_PORT=50090
DAPR_PLACEMENT_METRICS_PORT=9090
DAPR_PLACEMENT_HEALTH_PORT=8090
DAPR_PLACEMENT_METRICS_HOST_PORT=59090
DAPR_PLACEMENT_HEALTH_HOST_PORT=58090
DAPR_PLACEMENT_VOLUME=dapr-placement-data

# Dapr Scheduler Service Configuration
DAPR_SCHEDULER_CONTAINER=dapr-scheduler
DAPR_SCHEDULER_PORT=50091
DAPR_SCHEDULER_INTERNAL_PORT=50091
DAPR_SCHEDULER_METRICS_PORT=9091
DAPR_SCHEDULER_HEALTH_PORT=8091
DAPR_SCHEDULER_METRICS_HOST_PORT=59091
DAPR_SCHEDULER_HEALTH_HOST_PORT=58091
DAPR_ETCD_PORT=2379
DAPR_ETCD_HOST_PORT=52379
DAPR_ETCD_UNSUPPORTED_ARCH=arm64
DAPR_SCHEDULER_VOLUME=dapr-scheduler-data
DAPR_ETCD_VOLUME=dapr-etcd-data

# Dapr Zipkin Tracing Configuration
DAPR_ZIPKIN_VERSION=latest
DAPR_ZIPKIN_CONTAINER=dapr-zipkin
DAPR_ZIPKIN_PORT=9411
DAPR_ZIPKIN_STORAGE=mem
DAPR_ZIPKIN_JAVA_OPTS="-Xms128m -Xmx512m -XX:+ExitOnOutOfMemoryError"
DAPR_ZIPKIN_VOLUME=dapr-zipkin-data

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# Dapr Pluggable Components Docker Infrastructure
DAPR_PLUGABBLE_NETWORK_NAME=dapr-pluggable-net

# ============================================================================
# APPLICATION CONFIGURATIONS
# ============================================================================

# NebulaGraph Dapr Pluggable Component Configuration
PLUGGABLE_COMPONENTS_HTTP_PORT=3501
PLUGGABLE_COMPONENTS_GRPC_PORT=50001

# .NET Dapr Client API Configuration
DOT_NET_APP_PORT=80
DOT_NET_HTTP_PORT=3502
DOT_NET_GRPC_PORT=50002
DOT_NET_HOST_PORT=5092

# NebulaGraph gRPC Test API Configuration (Future)
TEST_GRPC_API_APP_PORT=80
TEST_GRPC_API_HTTP_PORT=3503
TEST_GRPC_API_GRPC_PORT=50003
TEST_GRPC_API_HOST_PORT=5093
